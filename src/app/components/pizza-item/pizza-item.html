<div class="accordion-item">
    <button class="accordion-btn" [class.active]="IsExpanded" (click)="expand.emit(item.itemId)"
        id="accordion-button-{{ item.itemId }}">
        @if (IsExpanded) {
        <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
            <polyline points="18 15 12 9 6 15" />
        </svg>

        } @else {
        <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
        }

        {{item.name}}
    </button>


    <div class="accordion-panel" [class.expanded]="IsExpanded">
        @if (IsExpanded) {
        <div class="pizza-container" id="item-{{item.itemId}}" role="region"
            [attr.aria-labelledby]="'accordion-button-' + item.itemId">
            @for (size of item.sizes; track $index) {
            <div class="size-row">

                <input type="checkbox" [checked]="size.enabled" (change)="toggleSize($index)"
                    id="size-{{ item.itemId }}-{{ size.sizeId }}" />
                <label class="check-label" [attr.for]="'size-' + item.itemId + '-' + size.sizeId"> {{size.name}}</label>

                <div class="input-container">
                    <label [attr.for]="'price-' + item.itemId + '-' + size.sizeId">
                        $
                    </label>
                    <input #priceInput id="price-{{ item.itemId }}-{{ size.sizeId }}" type="number" min="0"
                        [value]="size.price" [disabled]="!size.enabled"
                        (input)="onPriceChange($index , priceInput.value)" />
                </div>
            </div>
            }
            @if (hasChanges()) {
            <button class="undo-btn" (click)="onUndo()" aria-label="undo changes">
                <svg class="btn-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
                    stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"
                    aria-hidden="true">
                    <path
                        d="M4 9V15M4 15H10M4 15C6.32744 12.9114 8.48287 10.5468 11.7453 10.0878C13.6777 9.81593 15.6461 10.1794 17.3539 11.1234C19.0617 12.0675 20.4164 13.5409 21.2139 15.3218" />
                </svg>
            </button>

            }
        </div>

        }
    </div>

</div>